"use strict";(globalThis.webpackChunkmimoe_devportal=globalThis.webpackChunkmimoe_devportal||[]).push([[2118],{1470(e,n,s){s.d(n,{A:()=>M});var i=s(6540),r=s(4164),t=s(7559),d=s(3104),l=s(6347),a=s(205),c=s(7485),h=s(1682),o=s(679);function j(e){return i.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function x(e){const{values:n,children:s}=e;return(0,i.useMemo)(()=>{const e=n??function(e){return j(e).map(({props:{value:e,label:n,attributes:s,default:i}})=>({value:e,label:n,attributes:s,default:i}))}(s);return function(e){const n=(0,h.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,s])}function m({value:e,tabValues:n}){return n.some(n=>n.value===e)}function p({queryString:e=!1,groupId:n}){const s=(0,l.W6)(),r=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,c.aZ)(r),(0,i.useCallback)(e=>{if(!r)return;const n=new URLSearchParams(s.location.search);n.set(r,e),s.replace({...s.location,search:n.toString()})},[r,s])]}function u(e){const{defaultValue:n,queryString:s=!1,groupId:r}=e,t=x(e),[d,l]=(0,i.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const s=n.find(e=>e.default)??n[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:t})),[c,h]=p({queryString:s,groupId:r}),[j,u]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[s,r]=(0,o.Dv)(n);return[s,(0,i.useCallback)(e=>{n&&r.set(e)},[n,r])]}({groupId:r}),g=(()=>{const e=c??j;return m({value:e,tabValues:t})?e:null})();(0,a.A)(()=>{g&&l(g)},[g]);return{selectedValue:d,selectValue:(0,i.useCallback)(e=>{if(!m({value:e,tabValues:t}))throw new Error(`Can't select invalid tab value=${e}`);l(e),h(e),u(e)},[h,u,t]),tabValues:t}}var g=s(2303);const v="tabList__CuJ",b="tabItem_LNqP";var f=s(4848);function y({className:e,block:n,selectedValue:s,selectValue:i,tabValues:t}){const l=[],{blockElementScrollPositionUntilNextRender:a}=(0,d.a_)(),c=e=>{const n=e.currentTarget,r=l.indexOf(n),d=t[r].value;d!==s&&(a(n),i(d))},h=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const s=l.indexOf(e.currentTarget)+1;n=l[s]??l[0];break}case"ArrowLeft":{const s=l.indexOf(e.currentTarget)-1;n=l[s]??l[l.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":n},e),children:t.map(({value:e,label:n,attributes:i})=>(0,f.jsx)("li",{role:"tab",tabIndex:s===e?0:-1,"aria-selected":s===e,ref:e=>{l.push(e)},onKeyDown:h,onClick:c,...i,className:(0,r.A)("tabs__item",b,i?.className,{"tabs__item--active":s===e}),children:n??e},e))})}function A({lazy:e,children:n,selectedValue:s}){const t=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=t.find(e=>e.props.value===s);return e?(0,i.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:t.map((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==s}))})}function I(e){const n=u(e);return(0,f.jsxs)("div",{className:(0,r.A)(t.G.tabs.container,"tabs-container",v),children:[(0,f.jsx)(y,{...n,...e}),(0,f.jsx)(A,{...n,...e})]})}function M(e){const n=(0,g.A)();return(0,f.jsx)(I,{...e,children:j(e.children)},String(n))}},5007(e,n,s){s.r(n),s.d(n,{assets:()=>h,contentTitle:()=>c,default:()=>x,frontMatter:()=>a,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"api/mcm","title":"MCM API","description":"mimik Compute Manager API reference","source":"@site/docs/api/mcm.md","sourceDirName":"api","slug":"/api/mcm","permalink":"/mimOE-devportal/docs/api/mcm","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"MCM API","description":"mimik Compute Manager API reference"},"sidebar":"apiSidebar","previous":{"title":"Account Association API","permalink":"/mimOE-devportal/docs/api/account-association"},"next":{"title":"JavaScript mim Runtime API","permalink":"/mimOE-devportal/docs/api/context/"}}');var r=s(4848),t=s(8453),d=s(1470),l=s(9365);const a={sidebar_position:4,title:"MCM API",description:"mimik Compute Manager API reference"},c="MCM API",h={},o=[{value:"Base URL",id:"base-url",level:2},{value:"Authentication",id:"authentication",level:2},{value:"MCM API Key (Recommended)",id:"mcm-api-key-recommended",level:3},{value:"JWT Access Token (Alternative)",id:"jwt-access-token-alternative",level:3},{value:"API Key File",id:"api-key-file",level:2},{value:"Client ID",id:"client-id",level:2},{value:"Quick Reference",id:"quick-reference",level:2},{value:"Endpoints",id:"endpoints",level:2},{value:"List Images",id:"list-images",level:3},{value:"Upload Image",id:"upload-image",level:3},{value:"Delete Image",id:"delete-image",level:3},{value:"Download Image Tarball",id:"download-image-tarball",level:3},{value:"List mims",id:"list-mims",level:3},{value:"Deploy mim",id:"deploy-mim",level:3},{value:"Delete Mim",id:"delete-mim",level:3},{value:"Backup/Restore DataStore",id:"backuprestore-datastore",level:3},{value:"Deploy Composition",id:"deploy-composition",level:3},{value:"mim Image Object",id:"mim-image-object",level:2},{value:"mim Object",id:"mim-object",level:2},{value:"Environment Variables",id:"environment-variables",level:2},{value:"mim State Values",id:"mim-state-values",level:2},{value:"mim Status Values",id:"mim-status-values",level:2},{value:"DataStore Operation Status",id:"datastore-operation-status",level:2},{value:"Addon Protection",id:"addon-protection",level:2},{value:"Related",id:"related",level:2}];function j(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"mcm-api",children:"MCM API"})}),"\n",(0,r.jsx)(n.p,{children:"The MCM (mimik Compute Manager) API provides capabilities for deploying and managing mims on mimOE."}),"\n",(0,r.jsx)(n.h2,{id:"base-url",children:"Base URL"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"http://localhost:8083/mcm/v1\n"})}),"\n",(0,r.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,r.jsx)(n.p,{children:"MCM supports two authentication methods. The MCM API key is the simplest option and works without any signup or account association."}),"\n",(0,r.jsx)(n.h3,{id:"mcm-api-key-recommended",children:"MCM API Key (Recommended)"}),"\n",(0,r.jsxs)(n.p,{children:["Pass the ",(0,r.jsx)(n.code,{children:"MCM_API_KEY"})," as a bearer token:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Authorization: Bearer <MCM_API_KEY>\n"})}),"\n",(0,r.jsxs)(n.p,{children:["The MCM API key is found in the API key file (",(0,r.jsx)(n.code,{children:"mimoe-api-key.env"}),") in your working directory. mimOE auto-generates this file on first startup. See ",(0,r.jsx)(n.a,{href:"#api-key-file",children:"API Key File"})," for details."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Example: list images using the MCM API key\ncurl -X GET "http://localhost:8083/mcm/v1/images" \\\n  -H "Authorization: Bearer $(grep MCM_API_KEY mimoe-api-key.env | cut -d= -f2)"\n'})}),"\n",(0,r.jsx)(n.h3,{id:"jwt-access-token-alternative",children:"JWT Access Token (Alternative)"}),"\n",(0,r.jsxs)(n.p,{children:["A JWT access token with the ",(0,r.jsx)(n.code,{children:"edge:mcm"})," scope also works. This is used by clients that have completed ",(0,r.jsx)(n.a,{href:"/mimOE-devportal/docs/platform/getting-started/account-association-guide",children:"Account Association"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Authorization: Bearer <access_token>\n"})}),"\n",(0,r.jsxs)(n.p,{children:["If the bearer token does not match the MCM API key, mimOE falls back to JWT verification with ",(0,r.jsx)(n.code,{children:"edge:mcm"})," scope. If both fail, the request is rejected with HTTP 403."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"api-key-file",children:"API Key File"}),"\n",(0,r.jsx)(n.p,{children:"mimOE uses an API key file to secure its APIs. The file is auto-generated on first startup and contains two keys:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Key"}),(0,r.jsx)(n.th,{children:"Purpose"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ACCOUNT_API_KEY"})}),(0,r.jsxs)(n.td,{children:["Protects the ",(0,r.jsx)(n.a,{href:"/mimOE-devportal/docs/api/account-association",children:"Account Association API"})," (JSON-RPC)"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"MCM_API_KEY"})}),(0,r.jsx)(n.td,{children:"Protects the MCM API (this page)"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"File location:"})," ",(0,r.jsx)(n.code,{children:"<workDir>/mimoe-api-key.env"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"# mimOE API Keys\nACCOUNT_API_KEY=abc123def456\nMCM_API_KEY=xyz789ghi012\n"})}),"\n",(0,r.jsx)(n.p,{children:"The file is generated automatically if it does not exist. Keys persist across restarts. The file path is logged at startup:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"[2026-01-28 08:01:05.902Z] [info] API key file: ./mimoe-api-key.env\n"})}),"\n",(0,r.jsxs)(n.admonition,{title:"Custom key file",type:"tip",children:[(0,r.jsxs)(n.p,{children:["You can provide your own key file with the ",(0,r.jsx)(n.code,{children:"--api-key-file"})," flag:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"mimoe --api-key-file /path/to/my-keys.env --work-dir /path/to/workdir\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"client-id",children:"Client ID"}),"\n",(0,r.jsxs)(n.p,{children:["Every MCM operation is scoped to a client ID. When using API key authentication, the client ID defaults to ",(0,r.jsx)(n.code,{children:'"api"'}),". You can override it with the ",(0,r.jsx)(n.code,{children:"x-client-id"})," header."]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Auth Method"}),(0,r.jsxs)(n.th,{children:[(0,r.jsx)(n.code,{children:"x-client-id"})," Header"]}),(0,r.jsx)(n.th,{children:"Resolved Client ID"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MCM API key"}),(0,r.jsx)(n.td,{children:"not set"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"api"'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MCM API key"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"my-app"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"my-app"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"JWT"}),(0,r.jsx)(n.td,{children:"(ignored)"}),(0,r.jsxs)(n.td,{children:["JWT ",(0,r.jsx)(n.code,{children:"client_id"})," claim"]})]})]})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Use default client ID ("api")\ncurl -X GET "http://localhost:8083/mcm/v1/images" \\\n  -H "Authorization: Bearer $MCM_API_KEY"\n\n# Override client ID\ncurl -X GET "http://localhost:8083/mcm/v1/images" \\\n  -H "Authorization: Bearer $MCM_API_KEY" \\\n  -H "x-client-id: my-app"\n'})}),"\n",(0,r.jsxs)(n.p,{children:["When authenticated via JWT, the ",(0,r.jsx)(n.code,{children:"client_id"})," claim from the token always determines the client ID. The ",(0,r.jsx)(n.code,{children:"x-client-id"})," header is ignored."]}),"\n",(0,r.jsx)(n.h2,{id:"quick-reference",children:"Quick Reference"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Endpoints"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Images"}),(0,r.jsx)(n.th,{children:"mims"}),(0,r.jsx)(n.th,{children:"Other"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"#list-images",children:"List Images"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"#list-mims",children:"List mims"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"#deploy-composition",children:"Deploy Composition"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"#upload-image",children:"Upload Image"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"#deploy-mim",children:"Deploy mim"})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"#delete-image",children:"Delete Image"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"#delete-mim",children:"Delete mim"})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"#download-image-tarball",children:"Download Tarball"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"#backuprestore-datastore",children:"Backup/Restore DataStore"})}),(0,r.jsx)(n.td,{})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response Objects"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"#mim-image-object",children:"mim Image Object"})," | ",(0,r.jsx)(n.a,{href:"#mim-object",children:"mim Object"})," | ",(0,r.jsx)(n.a,{href:"#environment-variables",children:"Environment Variables"})," | ",(0,r.jsx)(n.a,{href:"#datastore-operation-status",children:"DataStore Status"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"endpoints",children:"Endpoints"}),"\n",(0,r.jsx)(n.h3,{id:"list-images",children:"List Images"}),"\n",(0,r.jsx)(n.p,{children:"Retrieve all mim images stored on this node."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"GET /images\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response (200 OK)"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "data": [\n    {\n      "id": "841be21b-a84b-46a5-a5b0-c5ee59f99b1a-my-agent-v1",\n      "name": "my-agent-v1",\n      "digest": "sha256:2fa55f5c1fc0ce890c4b8642ae1e0404e3ab19213b77a1d4d88f75804a4a18e2",\n      "repoTags": ["my-agent-v1:latest"],\n      "created": 1505947350,\n      "size": 170480\n    }\n  ]\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["See ",(0,r.jsx)(n.a,{href:"#mim-image-object",children:"mim Image Object"})," for field descriptions."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example"})}),"\n","\n",(0,r.jsxs)(d.A,{children:[(0,r.jsx)(l.A,{value:"curl",label:"cURL",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X GET "http://localhost:8083/mcm/v1/images" \\\n  -H "Authorization: Bearer $MCM_API_KEY"\n'})})}),(0,r.jsx)(l.A,{value:"js",label:"JavaScript",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const response = await fetch('http://localhost:8083/mcm/v1/images', {\n  headers: { 'Authorization': `Bearer ${mcmApiKey}` }\n});\nconst { data: images } = await response.json();\n"})})}),(0,r.jsx)(l.A,{value:"python",label:"Python",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import requests\n\nresponse = requests.get(\n    "http://localhost:8083/mcm/v1/images",\n    headers={"Authorization": f"Bearer {mcm_api_key}"}\n)\nimages = response.json()["data"]\n'})})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"upload-image",children:"Upload Image"}),"\n",(0,r.jsx)(n.p,{children:"Upload a mim image (tar file) to the node."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"POST /images\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Headers"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Header"}),(0,r.jsx)(n.th,{children:"Value"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Content-Type"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"multipart/form-data"})})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Form Data"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"image"})}),(0,r.jsx)(n.td,{children:"file"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"mim image tar file"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response (200 OK)"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "id": "841be21b-a84b-46a5-a5b0-c5ee59f99b1a-my-agent-v1",\n  "name": "my-agent-v1",\n  "digest": "sha256:2fa55f5c1fc0ce890c4b8642ae1e0404e3ab19213b77a1d4d88f75804a4a18e2",\n  "repoTags": ["my-agent-v1:latest"],\n  "created": 1505947350,\n  "size": 170480\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["See ",(0,r.jsx)(n.a,{href:"#mim-image-object",children:"mim Image Object"})," for field descriptions."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Error (400)"})}),"\n",(0,r.jsx)(n.p,{children:"Invalid image or upload failed."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example"})}),"\n",(0,r.jsxs)(d.A,{children:[(0,r.jsx)(l.A,{value:"curl",label:"cURL",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X POST "http://localhost:8083/mcm/v1/images" \\\n  -H "Authorization: Bearer $MCM_API_KEY" \\\n  -F "image=@my-agent-v1.tar"\n'})})}),(0,r.jsx)(l.A,{value:"js",label:"JavaScript",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const formData = new FormData();\nformData.append('image', imageFile);\n\nconst response = await fetch('http://localhost:8083/mcm/v1/images', {\n  method: 'POST',\n  headers: { 'Authorization': `Bearer ${mcmApiKey}` },\n  body: formData\n});\nconst image = await response.json();\n"})})}),(0,r.jsx)(l.A,{value:"python",label:"Python",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import requests\n\nwith open(\'my-agent-v1.tar\', \'rb\') as f:\n    response = requests.post(\n        "http://localhost:8083/mcm/v1/images",\n        headers={"Authorization": f"Bearer {mcm_api_key}"},\n        files={"image": f}\n    )\nimage = response.json()\n'})})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"delete-image",children:"Delete Image"}),"\n",(0,r.jsx)(n.p,{children:"Remove a mim image from the node."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"DELETE /images/{id}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Path Parameters"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"id"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Image identifier"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response (200 OK)"})}),"\n",(0,r.jsx)(n.p,{children:"Returns deleted image information."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Error (404)"})}),"\n",(0,r.jsx)(n.p,{children:"Image not found."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example"})}),"\n",(0,r.jsxs)(d.A,{children:[(0,r.jsx)(l.A,{value:"curl",label:"cURL",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X DELETE "http://localhost:8083/mcm/v1/images/$IMAGE_ID" \\\n  -H "Authorization: Bearer $MCM_API_KEY"\n'})})}),(0,r.jsx)(l.A,{value:"js",label:"JavaScript",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const response = await fetch(`http://localhost:8083/mcm/v1/images/${imageId}`, {\n  method: 'DELETE',\n  headers: { 'Authorization': `Bearer ${mcmApiKey}` }\n});\n"})})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"download-image-tarball",children:"Download Image Tarball"}),"\n",(0,r.jsx)(n.p,{children:"Download a mim image as a tar file."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"GET /images/{id}/tarball?hmac={hmac_code}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Path Parameters"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"id"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Image identifier"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Query Parameters"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hmac"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"HMAC authentication code"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response (200 OK)"})}),"\n",(0,r.jsxs)(n.p,{children:["Returns tar file with ",(0,r.jsx)(n.code,{children:"Content-Type: application/tar"}),"."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Error (403)"})}),"\n",(0,r.jsx)(n.p,{children:"Invalid HMAC code."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"list-mims",children:"List mims"}),"\n",(0,r.jsx)(n.p,{children:"Retrieve all deployed mims on this node."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"GET /mims\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response (200 OK)"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "data": [\n    {\n      "id": "abc123",\n      "name": "my-agent",\n      "image": "my-agent-v1",\n      "imageId": "841be21b-a84b-46a5-a5b0-c5ee59f99b1a-my-agent-v1",\n      "clientId": "841be21b-a84b-46a5-a5b0-c5ee59f99b1a",\n      "created": 1705947350000,\n      "state": "started",\n      "status": "up",\n      "env": {\n        "MCM.BASE_API_PATH": "/my-agent/v1"\n      }\n    }\n  ]\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["See ",(0,r.jsx)(n.a,{href:"#mim-object",children:"mim Object"})," for field descriptions."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example"})}),"\n",(0,r.jsxs)(d.A,{children:[(0,r.jsx)(l.A,{value:"curl",label:"cURL",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X GET "http://localhost:8083/mcm/v1/mims" \\\n  -H "Authorization: Bearer $MCM_API_KEY"\n'})})}),(0,r.jsx)(l.A,{value:"js",label:"JavaScript",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const response = await fetch('http://localhost:8083/mcm/v1/mims', {\n  headers: { 'Authorization': `Bearer ${mcmApiKey}` }\n});\nconst { data: mims } = await response.json();\n"})})}),(0,r.jsx)(l.A,{value:"python",label:"Python",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import requests\n\nresponse = requests.get(\n    "http://localhost:8083/mcm/v1/mims",\n    headers={"Authorization": f"Bearer {mcm_api_key}"}\n)\nmims = response.json()["data"]\n'})})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"deploy-mim",children:"Deploy mim"}),"\n",(0,r.jsx)(n.p,{children:"Deploy a mim instance from an uploaded image."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"POST /mims\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Headers"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Header"}),(0,r.jsx)(n.th,{children:"Value"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Content-Type"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"application/json"})})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"name"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"mim instance name (no spaces)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"image"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Image name to deploy from"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"env"})}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Environment variables"})]})]})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "name": "my-agent",\n  "image": "my-agent-v1",\n  "env": {\n    "MCM.BASE_API_PATH": "/my-agent/v1",\n    "MCM.API_ALIAS": "true"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response (201 Created)"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "id": "abc123",\n  "name": "my-agent",\n  "image": "my-agent-v1",\n  "imageId": "841be21b-a84b-46a5-a5b0-c5ee59f99b1a-my-agent-v1",\n  "clientId": "841be21b-a84b-46a5-a5b0-c5ee59f99b1a",\n  "created": 1705947350000,\n  "state": "started",\n  "status": "up",\n  "env": {\n    "MCM.BASE_API_PATH": "/my-agent/v1"\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["See ",(0,r.jsx)(n.a,{href:"#mim-object",children:"mim Object"})," and ",(0,r.jsx)(n.a,{href:"#environment-variables",children:"Environment Variables"})," for details."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Error (400)"})}),"\n",(0,r.jsx)(n.p,{children:"Invalid mim configuration."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example"})}),"\n",(0,r.jsxs)(d.A,{children:[(0,r.jsx)(l.A,{value:"curl",label:"cURL",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X POST "http://localhost:8083/mcm/v1/mims" \\\n  -H "Authorization: Bearer $MCM_API_KEY" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "name": "my-agent",\n    "image": "my-agent-v1",\n    "env": {\n      "MCM.BASE_API_PATH": "/my-agent/v1"\n    }\n  }\'\n'})})}),(0,r.jsx)(l.A,{value:"js",label:"JavaScript",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const response = await fetch('http://localhost:8083/mcm/v1/mims', {\n  method: 'POST',\n  headers: {\n    'Authorization': `Bearer ${mcmApiKey}`,\n    'Content-Type': 'application/json'\n  },\n  body: JSON.stringify({\n    name: 'my-agent',\n    image: 'my-agent-v1',\n    env: { 'MCM.BASE_API_PATH': '/my-agent/v1' }\n  })\n});\nconst mim = await response.json();\n"})})}),(0,r.jsx)(l.A,{value:"python",label:"Python",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import requests\n\nresponse = requests.post(\n    "http://localhost:8083/mcm/v1/mims",\n    headers={\n        "Authorization": f"Bearer {mcm_api_key}",\n        "Content-Type": "application/json"\n    },\n    json={\n        "name": "my-agent",\n        "image": "my-agent-v1",\n        "env": {"MCM.BASE_API_PATH": "/my-agent/v1"}\n    }\n)\nmim = response.json()\n'})})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"delete-mim",children:"Delete Mim"}),"\n",(0,r.jsx)(n.p,{children:"Remove a deployed mim from the node."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"DELETE /mims/{id}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Path Parameters"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"id"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"mim identifier"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response (200 OK)"})}),"\n",(0,r.jsx)(n.p,{children:"Returns deleted mim information."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Error (404)"})}),"\n",(0,r.jsx)(n.p,{children:"mim not found."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example"})}),"\n",(0,r.jsxs)(d.A,{children:[(0,r.jsx)(l.A,{value:"curl",label:"cURL",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X DELETE "http://localhost:8083/mcm/v1/mims/$MIM_ID" \\\n  -H "Authorization: Bearer $MCM_API_KEY"\n'})})}),(0,r.jsx)(l.A,{value:"js",label:"JavaScript",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const response = await fetch(`http://localhost:8083/mcm/v1/mims/${mimId}`, {\n  method: 'DELETE',\n  headers: { 'Authorization': `Bearer ${mcmApiKey}` }\n});\n"})})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"backuprestore-datastore",children:"Backup/Restore DataStore"}),"\n",(0,r.jsx)(n.p,{children:"Backup or restore a mim's persistent DataStore."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"POST /mims/{id}/dataStore\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Path Parameters"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"id"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"mim identifier"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"action"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"backup"})," or ",(0,r.jsx)(n.code,{children:"restore"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"path"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Local filesystem path for backup file"})]})]})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "action": "backup",\n  "path": "/var/backups/my-agent.db"\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response (200 OK)"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "action": "backup",\n  "status": "completed",\n  "message": "Backup completed successfully",\n  "path": "/var/backups/my-agent.db",\n  "percentage": 100\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["See ",(0,r.jsx)(n.a,{href:"#datastore-operation-status",children:"DataStore Operation Status"})," for status values."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example"})}),"\n",(0,r.jsxs)(d.A,{children:[(0,r.jsx)(l.A,{value:"curl",label:"cURL",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X POST "http://localhost:8083/mcm/v1/mims/$MIM_ID/dataStore" \\\n  -H "Authorization: Bearer $MCM_API_KEY" \\\n  -H "Content-Type: application/json" \\\n  -d \'{"action": "backup", "path": "/var/backups/my-agent.db"}\'\n'})})}),(0,r.jsx)(l.A,{value:"js",label:"JavaScript",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const response = await fetch(`http://localhost:8083/mcm/v1/mims/${mimId}/dataStore`, {\n  method: 'POST',\n  headers: {\n    'Authorization': `Bearer ${mcmApiKey}`,\n    'Content-Type': 'application/json'\n  },\n  body: JSON.stringify({ action: 'backup', path: '/var/backups/my-agent.db' })\n});\nconst result = await response.json();\n"})})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"deploy-composition",children:"Deploy Composition"}),"\n",(0,r.jsx)(n.p,{children:"Deploy multiple mims in a single operation."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"POST /compositions\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"mims"})}),(0,r.jsx)(n.td,{children:"array"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Array of mim configurations"})]})})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "mims": [\n    {\n      "name": "ai-agent",\n      "image": "ai-agent-v1",\n      "env": { "MCM.BASE_API_PATH": "/ai-agent/v1" }\n    },\n    {\n      "name": "processor",\n      "image": "processor-v1",\n      "env": { "MCM.BASE_API_PATH": "/processor/v1" }\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response (201 Created)"})}),"\n",(0,r.jsx)(n.p,{children:"Returns array of deployed mim information."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example"})}),"\n",(0,r.jsxs)(d.A,{children:[(0,r.jsx)(l.A,{value:"curl",label:"cURL",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X POST "http://localhost:8083/mcm/v1/compositions" \\\n  -H "Authorization: Bearer $MCM_API_KEY" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "mims": [\n      {"name": "ai-agent", "image": "ai-agent-v1", "env": {"MCM.BASE_API_PATH": "/ai-agent/v1"}}\n    ]\n  }\'\n'})})}),(0,r.jsx)(l.A,{value:"js",label:"JavaScript",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const response = await fetch('http://localhost:8083/mcm/v1/compositions', {\n  method: 'POST',\n  headers: {\n    'Authorization': `Bearer ${mcmApiKey}`,\n    'Content-Type': 'application/json'\n  },\n  body: JSON.stringify({\n    mims: [\n      { name: 'ai-agent', image: 'ai-agent-v1', env: { 'MCM.BASE_API_PATH': '/ai-agent/v1' } }\n    ]\n  })\n});\nconst deployedMims = await response.json();\n"})})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"mim-image-object",children:"mim Image Object"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"id"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:["Unique identifier (",(0,r.jsx)(n.code,{children:"{client_id}-{name}"}),")"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"name"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Image name"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"digest"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"SHA256 digest"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"repoTags"})}),(0,r.jsx)(n.td,{children:"array"}),(0,r.jsx)(n.td,{children:"Repository tags"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"created"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"Creation time (Unix timestamp in seconds)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"size"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"Size in bytes"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"mim-object",children:"mim Object"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"id"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Unique identifier"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"name"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Instance name"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"image"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Source image name"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"imageId"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Full image identifier"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"clientId"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Deployer's client ID"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"created"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"Creation time (Unix timestamp in milliseconds)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"state"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Lifecycle state"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"status"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Operational status"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"env"})}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:"Environment variables"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Variable"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"MCM.BASE_API_PATH"})}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsxs)(n.td,{children:["API endpoint path (e.g., ",(0,r.jsx)(n.code,{children:"/my-agent/v1"}),")"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"MCM.API_ALIAS"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsxs)(n.td,{children:["When ",(0,r.jsx)(n.code,{children:"true"}),", mounts on ",(0,r.jsx)(n.code,{children:"/api"})," endpoint"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"MCM.DB_ENCRYPTION_SUPPORT"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsxs)(n.td,{children:["When ",(0,r.jsx)(n.code,{children:"true"}),", enables database encryption"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"MCM.MAX_EXECUTION_TIME_SEC"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Maximum execution time in seconds (default: 30). mimOE terminates the mim if a request exceeds this limit. Increase for long-running operations."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"WEBSOCKET_SUPPORT"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsxs)(n.td,{children:["When ",(0,r.jsx)(n.code,{children:"true"}),", enables WebSocket notifications"]})]})]})]}),"\n",(0,r.jsxs)(n.admonition,{title:"Execution Timeout",type:"tip",children:[(0,r.jsxs)(n.p,{children:["By default, mimOE terminates any mim request that takes longer than 30 seconds. For mims that perform long-running operations such as AI inference, large file processing, or external API calls, increase ",(0,r.jsx)(n.code,{children:"MCM.MAX_EXECUTION_TIME_SEC"})," to prevent premature termination."]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'"env": {\n  "MCM.MAX_EXECUTION_TIME_SEC": "120"\n}\n'})})]}),"\n",(0,r.jsx)(n.h2,{id:"mim-state-values",children:"mim State Values"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"State"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"started"})}),(0,r.jsx)(n.td,{children:"mim is running"})]})})]}),"\n",(0,r.jsx)(n.h2,{id:"mim-status-values",children:"mim Status Values"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Status"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"up"})}),(0,r.jsx)(n.td,{children:"mim is operational"})]})})]}),"\n",(0,r.jsx)(n.h2,{id:"datastore-operation-status",children:"DataStore Operation Status"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Status"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"completed"})}),(0,r.jsx)(n.td,{children:"Operation succeeded"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"failed"})}),(0,r.jsx)(n.td,{children:"Operation failed"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"inProgress"})}),(0,r.jsx)(n.td,{children:"Operation in progress"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"addon-protection",children:"Addon Protection"}),"\n",(0,r.jsx)(n.p,{children:"Addon mims (pre-installed with mimOE) are protected regardless of authentication method:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Delete protection"}),": Addon containers cannot be deleted via the MCM API. Remove the addon folder to uninstall."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Image protection"}),": Images referenced by addon containers cannot be deleted."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Env protection"}),": Requests that include ",(0,r.jsx)(n.code,{children:"MCM.ADDON.*"})," environment variables are rejected, preventing regular containers from masquerading as addons."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"related",children:"Related"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/mimOE-devportal/docs/platform/getting-started/account-association-guide",children:"Account Association Guide"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/mimOE-devportal/docs/api/account-association",children:"Account Association API"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"../platform/javascript/",children:"JavaScript Guide"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"../platform/wasm/",children:"WASM Guide"})}),"\n"]})]})}function x(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(j,{...e})}):j(e)}},8453(e,n,s){s.d(n,{R:()=>d,x:()=>l});var i=s(6540);const r={},t=i.createContext(r);function d(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),i.createElement(t.Provider,{value:n},e.children)}},9365(e,n,s){s.d(n,{A:()=>d});s(6540);var i=s(4164);const r="tabItem_Ymn6";var t=s(4848);function d({children:e,hidden:n,className:s}){return(0,t.jsx)("div",{role:"tabpanel",className:(0,i.A)(r,s),hidden:n,children:e})}}}]);