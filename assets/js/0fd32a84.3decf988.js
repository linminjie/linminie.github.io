"use strict";(globalThis.webpackChunkmimoe_devportal=globalThis.webpackChunkmimoe_devportal||[]).push([[9237],{8453(e,n,s){s.d(n,{R:()=>t,x:()=>c});var i=s(6540);const o={},r=i.createContext(o);function t(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),i.createElement(r.Provider,{value:n},e.children)}},9171(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"mesh-foundation/discovery/account-based","title":"Account-Based Discovery","description":"Discover your nodes across different networks using account registration","source":"@site/docs/mesh-foundation/discovery/account-based.md","sourceDirName":"mesh-foundation/discovery","slug":"/mesh-foundation/discovery/account-based","permalink":"/mimOE-devportal/docs/mesh-foundation/discovery/account-based","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Account-Based Discovery","description":"Discover your nodes across different networks using account registration"},"sidebar":"meshFoundationSidebar","previous":{"title":"Link Local Discovery","permalink":"/mimOE-devportal/docs/mesh-foundation/discovery/link-local"},"next":{"title":"Proximity Discovery","permalink":"/mimOE-devportal/docs/mesh-foundation/discovery/proximity"}}');var o=s(4848),r=s(8453);const t={sidebar_position:4,title:"Account-Based Discovery",description:"Discover your nodes across different networks using account registration"},c="Account-Based Discovery",d={},l=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Overview",id:"overview",level:2},{value:"How It Works",id:"how-it-works",level:2},{value:"API Usage",id:"api-usage",level:2},{value:"Use Cases",id:"use-cases",level:2},{value:"Requirements",id:"requirements",level:2},{value:"Limitations",id:"limitations",level:2},{value:"Related",id:"related",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"account-based-discovery",children:"Account-Based Discovery"})}),"\n",(0,o.jsx)(n.p,{children:"Account-Based Discovery enables nodes registered to the same account to discover each other globally, regardless of network location."}),"\n",(0,o.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsx)(n.p,{children:"Account-based discovery requires a developer account and account association:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"/docs/platform/getting-started/developer-console",children:"Developer Console"})}),": Create a project and get your Client ID and Developer ID Token"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"/docs/platform/getting-started/account-association-guide",children:"Account Association"})}),": Associate your mimOE node with your developer account to obtain an access token"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["The access token from account association is what you store via ",(0,o.jsx)(n.code,{children:"PUT /token"})," in the API usage below."]}),"\n",(0,o.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Attribute"}),(0,o.jsx)(n.th,{children:"Value"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Scope"})}),(0,o.jsx)(n.td,{children:"Global (across any network)"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Cloud dependency"})}),(0,o.jsx)(n.td,{children:"Requires mDS (mimik Discovery Service)"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Communication"})}),(0,o.jsx)(n.td,{children:"Tunneled (HTTP only)"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Capabilities"})}),(0,o.jsx)(n.td,{children:"HTTP RESTful APIs"})]})]})]}),"\n",(0,o.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,o.jsx)(n.p,{children:"Account-Based Discovery uses mDS (mimik Discovery Service) as a registry for nodes associated with each account."}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Registration:"})," Each node registers with mDS using an account-scoped access token. Registration includes node ID, available services, and capabilities."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Discovery:"})," When a node needs to find other nodes on the same account, it queries mDS, which returns a list of all registered nodes for that account."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Communication:"})," Nodes on different networks communicate through the ",(0,o.jsx)(n.a,{href:"/mimOE-devportal/docs/mesh-foundation/discovery/tunneling",children:"Tunneling Service"}),", which handles NAT traversal."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"api-usage",children:"API Usage"}),"\n",(0,o.jsxs)(n.p,{children:["Account-based discovery requires a stored JWT. First, store your access token with the ",(0,o.jsx)(n.a,{href:"/docs/api/insight",children:"Insight API"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'curl -X PUT "http://localhost:8083/mimik-mesh/insight/v1/token" \\\n  -H "Content-Type: application/json" \\\n  -H "Authorization: Bearer $API_KEY" \\\n  -d \'{\n    "token": "eyJhbGciOiJSUzI1NiIs...",\n    "expiresAt": 1729677600\n  }\'\n'})}),"\n",(0,o.jsx)(n.p,{children:"Then discover nodes across your account:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'curl -X GET "http://localhost:8083/mimik-mesh/insight/v1/nodes?type=account" \\\n  -H "Authorization: Bearer $API_KEY"\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Response (200 OK)"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "data": [\n    {\n      "id": "c3d4e5f6-a7b8-9012-cdef-123456789012",\n      "accountId": "acct-123456",\n      "name": "Office Workstation",\n      "os": "linux",\n      "addresses": [\n        {\n          "type": "local",\n          "url": { "href": "http://10.0.1.50:8083" }\n        }\n      ],\n      "services": []\n    }\n  ]\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["Nodes on different networks communicate through ",(0,o.jsx)(n.a,{href:"/mimOE-devportal/docs/mesh-foundation/discovery/tunneling",children:"tunneling"}),". Use the SEP endpoint to route requests to a remote node:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'# Get the SEP info for tunneling\ncurl -X GET "http://localhost:8083/mimik-mesh/insight/v1/info?types=sep" \\\n  -H "Authorization: Bearer $API_KEY"\n'})}),"\n",(0,o.jsxs)(n.p,{children:["See ",(0,o.jsx)(n.a,{href:"/docs/api/insight#tunneling-via-sep",children:"Insight API: Tunneling via SEP"})," for the full routing workflow."]}),"\n",(0,o.jsx)(n.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Personal node mesh:"})," Your phone finding your tablet on a different network"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Cross-node sync:"})," Data synchronization between your nodes"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Remote access:"})," Accessing your home node from anywhere"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Distributed AI:"})," AI agents collaborating across your nodes"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Internet connectivity for mDS queries"}),"\n",(0,o.jsx)(n.li,{children:"Account-scoped access token for each node"}),"\n",(0,o.jsx)(n.li,{children:"All nodes registered under the same account"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"limitations",children:"Limitations"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Requires internet connectivity for discovery"}),"\n",(0,o.jsx)(n.li,{children:"HTTP only for cross-network communication (no WebSocket/SSE yet)"}),"\n",(0,o.jsx)(n.li,{children:"Higher latency than Link Local due to tunneling"}),"\n",(0,o.jsx)(n.li,{children:"Cannot discover nodes from other accounts"}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["If your nodes happen to be on the same network, they will automatically use ",(0,o.jsx)(n.a,{href:"/mimOE-devportal/docs/mesh-foundation/discovery/link-local",children:"Link Local Discovery"})," for direct communication with full protocol support."]}),"\n",(0,o.jsx)(n.h2,{id:"related",children:"Related"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"/mimOE-devportal/docs/mesh-foundation/discovery/link-local",children:"Link Local Discovery"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"/mimOE-devportal/docs/mesh-foundation/discovery/proximity",children:"Proximity Discovery"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"/mimOE-devportal/docs/mesh-foundation/discovery/tunneling",children:"Tunneling Service"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}}}]);