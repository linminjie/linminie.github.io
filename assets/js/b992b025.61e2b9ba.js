"use strict";(globalThis.webpackChunkmimoe_devportal=globalThis.webpackChunkmimoe_devportal||[]).push([[8880],{1470(e,n,s){s.d(n,{A:()=>A});var r=s(6540),i=s(4164),d=s(7559),t=s(3104),c=s(6347),l=s(205),o=s(7485),h=s(1682),a=s(679);function x(e){return r.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function j(e){const{values:n,children:s}=e;return(0,r.useMemo)(()=>{const e=n??function(e){return x(e).map(({props:{value:e,label:n,attributes:s,default:r}})=>({value:e,label:n,attributes:s,default:r}))}(s);return function(e){const n=(0,h.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,s])}function u({value:e,tabValues:n}){return n.some(n=>n.value===e)}function p({queryString:e=!1,groupId:n}){const s=(0,c.W6)(),i=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,o.aZ)(i),(0,r.useCallback)(e=>{if(!i)return;const n=new URLSearchParams(s.location.search);n.set(i,e),s.replace({...s.location,search:n.toString()})},[i,s])]}function m(e){const{defaultValue:n,queryString:s=!1,groupId:i}=e,d=j(e),[t,c]=(0,r.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!u({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const s=n.find(e=>e.default)??n[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:d})),[o,h]=p({queryString:s,groupId:i}),[x,m]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[s,i]=(0,a.Dv)(n);return[s,(0,r.useCallback)(e=>{n&&i.set(e)},[n,i])]}({groupId:i}),f=(()=>{const e=o??x;return u({value:e,tabValues:d})?e:null})();(0,l.A)(()=>{f&&c(f)},[f]);return{selectedValue:t,selectValue:(0,r.useCallback)(e=>{if(!u({value:e,tabValues:d}))throw new Error(`Can't select invalid tab value=${e}`);c(e),h(e),m(e)},[h,m,d]),tabValues:d}}var f=s(2303);const v="tabList__CuJ",g="tabItem_LNqP";var y=s(4848);function b({className:e,block:n,selectedValue:s,selectValue:r,tabValues:d}){const c=[],{blockElementScrollPositionUntilNextRender:l}=(0,t.a_)(),o=e=>{const n=e.currentTarget,i=c.indexOf(n),t=d[i].value;t!==s&&(l(n),r(t))},h=e=>{let n=null;switch(e.key){case"Enter":o(e);break;case"ArrowRight":{const s=c.indexOf(e.currentTarget)+1;n=c[s]??c[0];break}case"ArrowLeft":{const s=c.indexOf(e.currentTarget)-1;n=c[s]??c[c.length-1];break}}n?.focus()};return(0,y.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":n},e),children:d.map(({value:e,label:n,attributes:r})=>(0,y.jsx)("li",{role:"tab",tabIndex:s===e?0:-1,"aria-selected":s===e,ref:e=>{c.push(e)},onKeyDown:h,onClick:o,...r,className:(0,i.A)("tabs__item",g,r?.className,{"tabs__item--active":s===e}),children:n??e},e))})}function k({lazy:e,children:n,selectedValue:s}){const d=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=d.find(e=>e.props.value===s);return e?(0,r.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,y.jsx)("div",{className:"margin-top--md",children:d.map((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==s}))})}function T(e){const n=m(e);return(0,y.jsxs)("div",{className:(0,i.A)(d.G.tabs.container,"tabs-container",v),children:[(0,y.jsx)(b,{...n,...e}),(0,y.jsx)(k,{...n,...e})]})}function A(e){const n=(0,f.A)();return(0,y.jsx)(T,{...e,children:x(e.children)},String(n))}},7540(e,n,s){s.r(n),s.d(n,{assets:()=>h,contentTitle:()=>o,default:()=>j,frontMatter:()=>l,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"api/insight","title":"Insight API","description":"Node discovery, mesh connectivity, and tunneling API reference","source":"@site/docs/api/insight.md","sourceDirName":"api","slug":"/api/insight","permalink":"/webdemo/docs/api/insight","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6,"title":"Insight API","description":"Node discovery, mesh connectivity, and tunneling API reference"},"sidebar":"apiSidebar","previous":{"title":"Model Registry API","permalink":"/webdemo/docs/api/model-registry"},"next":{"title":"Account Association API","permalink":"/webdemo/docs/api/account-association"}}');var i=s(4848),d=s(8453),t=s(1470),c=s(9365);const l={sidebar_position:6,title:"Insight API",description:"Node discovery, mesh connectivity, and tunneling API reference"},o="Insight API",h={},a=[{value:"Base URL",id:"base-url",level:2},{value:"Authentication",id:"authentication",level:2},{value:"Quick Reference",id:"quick-reference",level:2},{value:"Node Discovery",id:"node-discovery",level:2},{value:"Discover Nodes",id:"discover-nodes",level:3},{value:"Node Information",id:"node-information",level:2},{value:"Get Node Info",id:"get-node-info",level:3},{value:"Self Info",id:"self-info",level:4},{value:"Supernode Info",id:"supernode-info",level:4},{value:"BEP (Backend Endpoint)",id:"bep-backend-endpoint",level:4},{value:"SEP (Service Endpoint)",id:"sep-service-endpoint",level:4},{value:"Multiple Types",id:"multiple-types",level:4},{value:"Tunneling via SEP",id:"tunneling-via-sep",level:3},{value:"Token Management",id:"token-management",level:2},{value:"Store Token",id:"store-token",level:3},{value:"Schemas",id:"schemas",level:2},{value:"Node Object",id:"node-object",level:3},{value:"Address Entry",id:"address-entry",level:3},{value:"Service Entry",id:"service-entry",level:3},{value:"Error Responses",id:"error-responses",level:2},{value:"Related",id:"related",level:2}];function x(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"insight-api",children:"Insight API"})}),"\n",(0,i.jsx)(n.p,{children:"The Insight API (minsight) provides node discovery, mesh connectivity, and tunneling capabilities for mimOE. This mim is pre-deployed as part of the mesh-foundation addon and enables devices to discover each other on the local network, across accounts, and via proximity, as well as route traffic across network boundaries."}),"\n",(0,i.jsx)(n.h2,{id:"base-url",children:"Base URL"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"http://localhost:8083/mimik-mesh/insight/v1\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"The Insight API is pre-deployed with the mesh-foundation addon. No additional installation is required."})}),"\n",(0,i.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,i.jsx)(n.p,{children:"All endpoints require Bearer token authentication using the API key from the addon manifest:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Authorization: Bearer <apiKey>\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"apiKey"})," value comes from the ",(0,i.jsx)(n.code,{children:"env.API_KEY"})," field in the mesh-foundation addon manifest."]}),"\n",(0,i.jsx)(n.admonition,{title:"Token Requirements",type:"info",children:(0,i.jsxs)(n.p,{children:["Endpoints that use ",(0,i.jsx)(n.code,{children:"linkLocal"}),", ",(0,i.jsx)(n.code,{children:"self"}),", or ",(0,i.jsx)(n.code,{children:"supernode"})," scope work with the API key alone. Account-scoped operations (",(0,i.jsx)(n.code,{children:"account"}),", ",(0,i.jsx)(n.code,{children:"proximity"}),") and backend endpoint queries (",(0,i.jsx)(n.code,{children:"bep"}),", ",(0,i.jsx)(n.code,{children:"sep"}),") require a JWT to be stored first via ",(0,i.jsx)(n.a,{href:"#store-token",children:(0,i.jsx)(n.code,{children:"PUT /token"})}),"."]})}),"\n",(0,i.jsx)(n.h2,{id:"quick-reference",children:"Quick Reference"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Method"}),(0,i.jsx)(n.th,{children:"Endpoint"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"GET"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"#discover-nodes",children:(0,i.jsx)(n.code,{children:"/nodes"})})}),(0,i.jsx)(n.td,{children:"Discover nodes on the mesh"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"GET"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"#get-node-info",children:(0,i.jsx)(n.code,{children:"/info"})})}),(0,i.jsx)(n.td,{children:"Get node and mesh info"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"PUT"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"#store-token",children:(0,i.jsx)(n.code,{children:"/token"})})}),(0,i.jsx)(n.td,{children:"Store JWT for account-scoped operations"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Token Requirements"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Discovery Type"}),(0,i.jsx)(n.th,{children:"Stored JWT Required"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"linkLocal"})}),(0,i.jsx)(n.td,{children:"No"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"self"})}),(0,i.jsx)(n.td,{children:"No"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"supernode"})}),(0,i.jsx)(n.td,{children:"No"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"account"})}),(0,i.jsx)(n.td,{children:"Yes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"proximity"})}),(0,i.jsx)(n.td,{children:"Yes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bep"})}),(0,i.jsx)(n.td,{children:"Yes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"sep"})}),(0,i.jsx)(n.td,{children:"Yes"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"node-discovery",children:"Node Discovery"}),"\n",(0,i.jsx)(n.h3,{id:"discover-nodes",children:"Discover Nodes"}),"\n",(0,i.jsxs)(n.p,{children:["Discover other mimOE nodes on the mesh. The discovery scope depends on the ",(0,i.jsx)(n.code,{children:"type"})," query parameter."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Request"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"GET /nodes?type={type}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Query Parameters"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Required"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"type"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsxs)(n.td,{children:["Discovery scope: ",(0,i.jsx)(n.code,{children:"linkLocal"}),", ",(0,i.jsx)(n.code,{children:"account"}),", or ",(0,i.jsx)(n.code,{children:"proximity"})]})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Discovery Types"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"JWT Required"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"linkLocal"})}),(0,i.jsx)(n.td,{children:"Nodes on the same local network"}),(0,i.jsx)(n.td,{children:"No"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"account"})}),(0,i.jsx)(n.td,{children:"Nodes associated with the same account"}),(0,i.jsx)(n.td,{children:"Yes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"proximity"})}),(0,i.jsx)(n.td,{children:"Nearby nodes discovered via proximity services"}),(0,i.jsx)(n.td,{children:"Yes"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response (200 OK)"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "data": [\n    {\n      "id": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",\n      "accountId": "acct-123456",\n      "name": "Living Room Hub",\n      "os": "linux",\n      "addresses": [\n        {\n          "type": "local",\n          "url": {\n            "href": "http://192.168.1.100:8083"\n          }\n        }\n      ],\n      "services": [\n        {\n          "id": "svc-001",\n          "serviceType": "ai-agent-v1",\n          "version": "1.0.0",\n          "status": "running",\n          "tenant": "default"\n        }\n      ]\n    }\n  ]\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.a,{href:"#node-object",children:"Node Object"})," for field descriptions."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n","\n",(0,i.jsxs)(t.A,{children:[(0,i.jsx)(c.A,{value:"curl",label:"cURL",default:!0,children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X GET "http://localhost:8083/mimik-mesh/insight/v1/nodes?type=linkLocal" \\\n  -H "Authorization: Bearer $API_KEY"\n'})})}),(0,i.jsx)(c.A,{value:"js",label:"JavaScript",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"const response = await fetch(\n  'http://localhost:8083/mimik-mesh/insight/v1/nodes?type=linkLocal',\n  {\n    headers: { 'Authorization': `Bearer ${apiKey}` }\n  }\n);\n\nconst { data: nodes } = await response.json();\nconsole.log(`Found ${nodes.length} nodes on local network`);\n"})})}),(0,i.jsx)(c.A,{value:"python",label:"Python",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import requests\n\nresponse = requests.get(\n    "http://localhost:8083/mimik-mesh/insight/v1/nodes",\n    headers={"Authorization": f"Bearer {api_key}"},\n    params={"type": "linkLocal"}\n)\n\nnodes = response.json()["data"]\nprint(f"Found {len(nodes)} nodes on local network")\n'})})})]}),"\n",(0,i.jsxs)(n.admonition,{title:"Account-Based Discovery",type:"tip",children:[(0,i.jsxs)(n.p,{children:["To discover nodes across your account, first store a JWT with ",(0,i.jsx)(n.code,{children:"PUT /token"}),", then query with ",(0,i.jsx)(n.code,{children:"type=account"}),":"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X GET "http://localhost:8083/mimik-mesh/insight/v1/nodes?type=account" \\\n  -H "Authorization: Bearer $API_KEY"\n'})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"node-information",children:"Node Information"}),"\n",(0,i.jsx)(n.h3,{id:"get-node-info",children:"Get Node Info"}),"\n",(0,i.jsx)(n.p,{children:"Retrieve information about the current node and its mesh connectivity. Supports multiple info types in a single request."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Request"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"GET /info?types={types}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Query Parameters"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Required"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"types"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsxs)(n.td,{children:["Comma-separated info types: ",(0,i.jsx)(n.code,{children:"self"}),", ",(0,i.jsx)(n.code,{children:"supernode"}),", ",(0,i.jsx)(n.code,{children:"bep"}),", ",(0,i.jsx)(n.code,{children:"sep"})]})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Info Types"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"JWT Required"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"self"})}),(0,i.jsx)(n.td,{children:"Current node information"}),(0,i.jsx)(n.td,{children:"No"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"supernode"})}),(0,i.jsx)(n.td,{children:"Supernode connection details"}),(0,i.jsx)(n.td,{children:"No"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bep"})}),(0,i.jsx)(n.td,{children:"Backend endpoint (cloud relay) status"}),(0,i.jsx)(n.td,{children:"Yes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"sep"})}),(0,i.jsx)(n.td,{children:"Service endpoint for cross-network tunneling"}),(0,i.jsx)(n.td,{children:"Yes"})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"self-info",children:"Self Info"}),"\n",(0,i.jsx)(n.p,{children:"Returns the current node's identity and network addresses."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n",(0,i.jsxs)(t.A,{children:[(0,i.jsx)(c.A,{value:"curl",label:"cURL",default:!0,children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X GET "http://localhost:8083/mimik-mesh/insight/v1/info?types=self" \\\n  -H "Authorization: Bearer $API_KEY"\n'})})}),(0,i.jsx)(c.A,{value:"js",label:"JavaScript",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"const response = await fetch(\n  'http://localhost:8083/mimik-mesh/insight/v1/info?types=self',\n  {\n    headers: { 'Authorization': `Bearer ${apiKey}` }\n  }\n);\n\nconst info = await response.json();\nconsole.log('Node ID:', info.data.self.id);\n"})})}),(0,i.jsx)(c.A,{value:"python",label:"Python",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import requests\n\nresponse = requests.get(\n    "http://localhost:8083/mimik-mesh/insight/v1/info",\n    headers={"Authorization": f"Bearer {api_key}"},\n    params={"types": "self"}\n)\n\ninfo = response.json()\nprint(f"Node ID: {info[\'data\'][\'self\'][\'id\']}")\n'})})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response (200 OK)"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "self": {\n      "id": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",\n      "accountId": "acct-123456",\n      "name": "My Device",\n      "os": "linux",\n      "addresses": [\n        {\n          "type": "local",\n          "url": {\n            "href": "http://192.168.1.100:8083"\n          }\n        }\n      ],\n      "services": []\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"supernode-info",children:"Supernode Info"}),"\n",(0,i.jsx)(n.p,{children:"Returns the supernode this node is connected to for mesh coordination."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X GET "http://localhost:8083/mimik-mesh/insight/v1/info?types=supernode" \\\n  -H "Authorization: Bearer $API_KEY"\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response (200 OK)"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "supernode": {\n      "id": "sn-a1b2c3d4",\n      "name": "Supernode-US-West",\n      "addresses": [\n        {\n          "type": "public",\n          "url": {\n            "href": "https://sn-us-west.mimik.com"\n          }\n        }\n      ]\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"bep-backend-endpoint",children:"BEP (Backend Endpoint)"}),"\n",(0,i.jsx)(n.p,{children:"Returns the backend endpoint status for cloud relay connectivity."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X GET "http://localhost:8083/mimik-mesh/insight/v1/info?types=bep" \\\n  -H "Authorization: Bearer $API_KEY"\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response (200 OK)"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "bep": {\n      "url": "https://bep.mimik.com",\n      "status": "connected"\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"sep-service-endpoint",children:"SEP (Service Endpoint)"}),"\n",(0,i.jsx)(n.p,{children:"Returns the service endpoint used for cross-network tunneling. The response includes routing headers needed to forward requests to this node from outside the local network."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X GET "http://localhost:8083/mimik-mesh/insight/v1/info?types=sep" \\\n  -H "Authorization: Bearer $API_KEY"\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response (200 OK)"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "sep": {\n      "nodeId": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",\n      "url": "https://sep.mimik.com",\n      "headers": {\n        "x-mimik-port": "8083",\n        "x-mimik-routing": "a1b2c3d4-e5f6-7890-abcd-ef1234567890"\n      },\n      "status": "available"\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"multiple-types",children:"Multiple Types"}),"\n",(0,i.jsx)(n.p,{children:"Request multiple info types in a single call:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X GET "http://localhost:8083/mimik-mesh/insight/v1/info?types=self,supernode,bep,sep" \\\n  -H "Authorization: Bearer $API_KEY"\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response (200 OK)"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "self": { "id": "a1b2c3d4-...", "..." : "..." },\n    "supernode": { "id": "sn-a1b2c3d4", "..." : "..." },\n    "bep": { "url": "https://bep.mimik.com", "status": "connected" },\n    "sep": { "nodeId": "a1b2c3d4-...", "url": "https://sep.mimik.com", "..." : "..." }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"tunneling-via-sep",children:"Tunneling via SEP"}),"\n",(0,i.jsxs)(n.p,{children:["The SEP response provides everything needed to route requests to a node across network boundaries. Use the ",(0,i.jsx)(n.code,{children:"url"})," as the base and include the routing headers from the ",(0,i.jsx)(n.code,{children:"headers"})," field."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example: Calling a mim on a remote node"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X GET "https://sep.mimik.com/my-agent/v1/data" \\\n  -H "Authorization: Bearer $API_KEY" \\\n  -H "x-mimik-port: 8083" \\\n  -H "x-mimik-routing: a1b2c3d4-e5f6-7890-abcd-ef1234567890"\n'})}),"\n",(0,i.jsxs)(n.p,{children:["This routes the request through the mimik cloud relay to the target node, where it is forwarded to the local mim at ",(0,i.jsx)(n.code,{children:"/my-agent/v1/data"}),"."]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["Tunneling requires that the target node has a valid JWT stored and an active BEP connection. See ",(0,i.jsx)(n.a,{href:"/docs/mesh-foundation/discovery/tunneling",children:"Tunneling"})," for the full workflow."]})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"token-management",children:"Token Management"}),"\n",(0,i.jsx)(n.h3,{id:"store-token",children:"Store Token"}),"\n",(0,i.jsx)(n.p,{children:"Store a JWT for account-scoped operations. Once stored, endpoints that require a JWT (account discovery, proximity discovery, BEP, SEP) become available."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Request"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"PUT /token\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Headers"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Header"}),(0,i.jsx)(n.th,{children:"Required"}),(0,i.jsx)(n.th,{children:"Value"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Content-Type"})}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"application/json"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Authorization"})}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Bearer <apiKey>"})})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Request Body"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Field"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Required"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"token"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"JWT access token"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"expiresAt"})}),(0,i.jsx)(n.td,{children:"integer"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Token expiration time (Unix timestamp in seconds)"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n",(0,i.jsxs)(t.A,{children:[(0,i.jsx)(c.A,{value:"curl",label:"cURL",default:!0,children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X PUT "http://localhost:8083/mimik-mesh/insight/v1/token" \\\n  -H "Content-Type: application/json" \\\n  -H "Authorization: Bearer $API_KEY" \\\n  -d \'{\n    "token": "eyJhbGciOiJSUzI1NiIs...",\n    "expiresAt": 1729677600\n  }\'\n'})})}),(0,i.jsx)(c.A,{value:"js",label:"JavaScript",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"const response = await fetch(\n  'http://localhost:8083/mimik-mesh/insight/v1/token',\n  {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${apiKey}`\n    },\n    body: JSON.stringify({\n      token: jwtAccessToken,\n      expiresAt: Math.floor(Date.now() / 1000) + 3600\n    })\n  }\n);\n\nconst result = await response.json();\nconsole.log('Token stored:', result.status);\n"})})}),(0,i.jsx)(c.A,{value:"python",label:"Python",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import requests\nimport time\n\nresponse = requests.put(\n    "http://localhost:8083/mimik-mesh/insight/v1/token",\n    headers={\n        "Content-Type": "application/json",\n        "Authorization": f"Bearer {api_key}"\n    },\n    json={\n        "token": jwt_access_token,\n        "expiresAt": int(time.time()) + 3600\n    }\n)\n\nresult = response.json()\nprint(f"Token stored: {result[\'status\']}")\n'})})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response (200 OK)"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "status": "ok"\n}\n'})}),"\n",(0,i.jsxs)(n.admonition,{title:"Usage Flow",type:"tip",children:[(0,i.jsx)(n.p,{children:"The typical workflow for account-scoped operations:"}),(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Obtain a JWT access token via ",(0,i.jsx)(n.a,{href:"/webdemo/docs/api/account-association",children:"Account Association"})]}),"\n",(0,i.jsxs)(n.li,{children:["Store the token with ",(0,i.jsx)(n.code,{children:"PUT /token"})]}),"\n",(0,i.jsxs)(n.li,{children:["Use account-scoped endpoints (",(0,i.jsx)(n.code,{children:"GET /nodes?type=account"}),", ",(0,i.jsx)(n.code,{children:"GET /info?types=sep"}),", etc.)"]}),"\n"]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"schemas",children:"Schemas"}),"\n",(0,i.jsx)(n.h3,{id:"node-object",children:"Node Object"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Field"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"id"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Unique node identifier"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"accountId"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Account the node is associated with"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"name"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Human-readable node name"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"os"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsxs)(n.td,{children:["Operating system (e.g., ",(0,i.jsx)(n.code,{children:"linux"}),", ",(0,i.jsx)(n.code,{children:"darwin"}),", ",(0,i.jsx)(n.code,{children:"android"}),", ",(0,i.jsx)(n.code,{children:"ios"}),")"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"addresses"})}),(0,i.jsx)(n.td,{children:"array"}),(0,i.jsxs)(n.td,{children:["Network addresses (",(0,i.jsx)(n.a,{href:"#address-entry",children:"Address Entry"}),")"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"services"})}),(0,i.jsx)(n.td,{children:"array"}),(0,i.jsxs)(n.td,{children:["Deployed services (",(0,i.jsx)(n.a,{href:"#service-entry",children:"Service Entry"}),")"]})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"address-entry",children:"Address Entry"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Field"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"type"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsxs)(n.td,{children:["Address type (e.g., ",(0,i.jsx)(n.code,{children:"local"}),", ",(0,i.jsx)(n.code,{children:"public"}),")"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"url.href"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Full URL of the node endpoint"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"service-entry",children:"Service Entry"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Field"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"id"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Service identifier"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"serviceType"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Type of service (mim image name)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"version"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Service version"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"status"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsxs)(n.td,{children:["Service status (e.g., ",(0,i.jsx)(n.code,{children:"running"}),")"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"tenant"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Tenant identifier"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"error-responses",children:"Error Responses"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Error Format"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "message": "Description of the error",\n  "statusCode": 400\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Error Codes"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Code"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"400"}),(0,i.jsx)(n.td,{children:"Bad request (invalid query parameter or request body)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"401"}),(0,i.jsx)(n.td,{children:"Unauthorized (missing or invalid API key)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"403"}),(0,i.jsx)(n.td,{children:"Forbidden (stored JWT missing or expired for account-scoped operation)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"500"}),(0,i.jsx)(n.td,{children:"Internal server error"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"related",children:"Related"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/webdemo/docs/mesh-foundation/discovery/",children:"Discovery Overview"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/webdemo/docs/mesh-foundation/discovery/link-local",children:"Link Local Discovery"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/webdemo/docs/mesh-foundation/discovery/account-based",children:"Account-Based Discovery"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/webdemo/docs/mesh-foundation/discovery/proximity",children:"Proximity Discovery"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/webdemo/docs/mesh-foundation/discovery/tunneling",children:"Tunneling"})}),"\n"]})]})}function j(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(x,{...e})}):x(e)}},8453(e,n,s){s.d(n,{R:()=>t,x:()=>c});var r=s(6540);const i={},d=r.createContext(i);function t(e){const n=r.useContext(d);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(d.Provider,{value:n},e.children)}},9365(e,n,s){s.d(n,{A:()=>t});s(6540);var r=s(4164);const i="tabItem_Ymn6";var d=s(4848);function t({children:e,hidden:n,className:s}){return(0,d.jsx)("div",{role:"tabpanel",className:(0,r.A)(i,s),hidden:n,children:e})}}}]);