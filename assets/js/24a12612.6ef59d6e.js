"use strict";(globalThis.webpackChunkmimoe_devportal=globalThis.webpackChunkmimoe_devportal||[]).push([[5066],{3950(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"platform/architecture/constraints","title":"Platform Constraints","description":"Understanding mimOE technical limitations and design considerations","source":"@site/docs/platform/architecture/constraints.md","sourceDirName":"platform/architecture","slug":"/platform/architecture/constraints","permalink":"/mimOE-devportal/docs/platform/architecture/constraints","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Platform Constraints","description":"Understanding mimOE technical limitations and design considerations"},"sidebar":"platformSidebar","previous":{"title":"How Requests Flow Through mimOE","permalink":"/mimOE-devportal/docs/platform/architecture/request-lifecycle"},"next":{"title":"Getting Started with mimOE","permalink":"/mimOE-devportal/docs/platform/getting-started/"}}');var r=t(4848),i=t(8453);const a={sidebar_position:4,title:"Platform Constraints",description:"Understanding mimOE technical limitations and design considerations"},o="Platform Constraints",l={},c=[{value:"JavaScript Constraints",id:"javascript-constraints",level:2},{value:"Not a Node.js Runtime",id:"not-a-nodejs-runtime",level:3},{value:"ES5 Runtime with Transpilation",id:"es5-runtime-with-transpilation",level:3},{value:"What&#39;s Available vs. What&#39;s Not",id:"whats-available-vs-whats-not",level:3},{value:"Stateless Execution Constraint",id:"stateless-execution-constraint",level:2},{value:"No State Persists Between Requests",id:"no-state-persists-between-requests",level:3},{value:"No Background Tasks",id:"no-background-tasks",level:3},{value:"WASM Constraints",id:"wasm-constraints",level:2},{value:"No WASI Support",id:"no-wasi-support",level:3},{value:"Networking Constraints",id:"networking-constraints",level:2},{value:"No Direct Socket Access",id:"no-direct-socket-access",level:3},{value:"HTTP/HTTPS for External Requests",id:"httphttps-for-external-requests",level:3},{value:"No Streaming (Current Limitation)",id:"no-streaming-current-limitation",level:3},{value:"Storage Constraints",id:"storage-constraints",level:2},{value:"Key-Value Store Only",id:"key-value-store-only",level:3},{value:"Cross-Platform Considerations",id:"cross-platform-considerations",level:2},{value:"Platform-Specific Paths",id:"platform-specific-paths",level:3},{value:"Mobile Platform Differences",id:"mobile-platform-differences",level:3},{value:"Workarounds and Best Practices",id:"workarounds-and-best-practices",level:2},{value:"Use Polyfills",id:"use-polyfills",level:3},{value:"Optimize for Stateless",id:"optimize-for-stateless",level:3},{value:"Use Transactions for Consistency",id:"use-transactions-for-consistency",level:3},{value:"Constraint Summary Table",id:"constraint-summary-table",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"platform-constraints",children:"Platform Constraints"})}),"\n",(0,r.jsx)(n.p,{children:"mimOE is designed for device-first execution with specific technical constraints. Understanding these limitations is essential for building robust mims and AI agents that work reliably across platforms."}),"\n",(0,r.jsx)(n.h2,{id:"javascript-constraints",children:"JavaScript Constraints"}),"\n",(0,r.jsx)(n.h3,{id:"not-a-nodejs-runtime",children:"Not a Node.js Runtime"}),"\n",(0,r.jsx)(n.admonition,{title:"Critical Understanding",type:"danger",children:(0,r.jsxs)(n.p,{children:["The mimOE JavaScript runtime is ",(0,r.jsx)(n.strong,{children:"NOT Node.js"}),". It is a custom ES5-based runtime. Node.js built-in modules are not available."]})}),"\n",(0,r.jsx)(n.p,{children:"The most common mistake developers make is trying to import Node.js modules:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// \u274c Node.js modules are NOT available\nconst fs = require('fs');           // Not available\nconst path = require('path');       // Not available\nconst http = require('http');       // Not available\nconst net = require('net');         // Not available\nconst crypto = require('crypto');   // Not available\nconst child_process = require('child_process'); // Not available\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Instead, use the mimOE runtime APIs provided via the ",(0,r.jsx)(n.code,{children:"context"})," object:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// \u2705 Use mimOE runtime APIs\napp.get('/data', (request, response) => {\n  // HTTP requests via context.http (with callbacks)\n  context.http.request({\n    url: 'https://api.example.com/data',\n    success: (result) => {\n      // Storage via context.storage (synchronous)\n      context.storage.setItem('key', result.data);\n      response.end(result.data);\n    },\n    error: (err) => {\n      response.statusCode = 500;\n      response.end(err.message);\n    }\n  });\n});\n"})}),"\n",(0,r.jsxs)(n.p,{children:["For the complete list of available APIs, see the ",(0,r.jsx)(n.a,{href:"../../api/context/",children:"JavaScript mim Runtime API"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"es5-runtime-with-transpilation",children:"ES5 Runtime with Transpilation"}),"\n",(0,r.jsx)(n.p,{children:"The mimOE JavaScript runtime is ES5-compatible. However, this is easily handled by using Webpack with Babel to transpile modern JavaScript:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// You can write modern JavaScript\nconst add = (a, b) => a + b;\nconst message = `Hello ${name}`;\nasync function fetchData() { ... }\n\n// Webpack + Babel transpiles to ES5 for deployment\n"})}),"\n",(0,r.jsxs)(n.p,{children:["See ",(0,r.jsx)(n.a,{href:"../javascript/toolchain",children:"Toolchain Setup"})," for configuration details."]}),"\n",(0,r.jsx)(n.h3,{id:"whats-available-vs-whats-not",children:"What's Available vs. What's Not"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Available"}),(0,r.jsx)(n.th,{children:"Not Available"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"context.http"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"fetch"}),", ",(0,r.jsx)(n.code,{children:"XMLHttpRequest"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"context.storage"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"fs"}),", ",(0,r.jsx)(n.code,{children:"localStorage"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"context.edge"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"net"}),", ",(0,r.jsx)(n.code,{children:"dgram"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"JSON"}),", ",(0,r.jsx)(n.code,{children:"Math"}),", ",(0,r.jsx)(n.code,{children:"Date"}),", ",(0,r.jsx)(n.code,{children:"RegExp"})]}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"setTimeout"}),", ",(0,r.jsx)(n.code,{children:"setInterval"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"Array"})," methods (map, filter, etc.)"]}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"Buffer"})," (Node.js)"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"console.log"})," (debugging)"]}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"process"}),", ",(0,r.jsx)(n.code,{children:"__dirname"})]})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"stateless-execution-constraint",children:"Stateless Execution Constraint"}),"\n",(0,r.jsx)(n.p,{children:"This is the most fundamental constraint of mimOE's serverless architecture."}),"\n",(0,r.jsx)(n.h3,{id:"no-state-persists-between-requests",children:"No State Persists Between Requests"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// \u274c WRONG - State is lost after each request\nvar requestCount = 0;\n\napp.get('/count', (request, response) => {\n  requestCount++; // Always 1!\n  response.end(JSON.stringify({ count: requestCount }));\n});\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// \u2705 CORRECT - Use context.storage\napp.get('/count', (request, response) => {\n  var count = parseInt(context.storage.getItem('requestCount') || '0');\n  var newCount = count + 1;\n  context.storage.setItem('requestCount', String(newCount));\n  response.end(JSON.stringify({ count: newCount }));\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"no-background-tasks",children:"No Background Tasks"}),"\n",(0,r.jsx)(n.p,{children:"There are no timers, intervals, or background processes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// \u274c Not available\nsetTimeout(function() {\n  // Never runs\n}, 1000);\n\nsetInterval(function() {\n  // Never runs\n}, 5000);\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Alternative:"})," Use external schedulers (cron jobs, cloud functions) to trigger mims via HTTP."]}),"\n",(0,r.jsx)(n.h2,{id:"wasm-constraints",children:"WASM Constraints"}),"\n",(0,r.jsx)(n.h3,{id:"no-wasi-support",children:"No WASI Support"}),"\n",(0,r.jsx)(n.p,{children:"mimOE's WebAssembly runtime does not support WASI (WebAssembly System Interface)."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"// \u274c WASI functions not available\nuse std::fs::File; // Won't work\nuse std::env; // Won't work\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Alternative:"})," Use mimOE's custom imported functions:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:'// \u2705 Use mimOE imports\nextern "C" {\n    fn storage_get(key_ptr: *const u8, key_len: usize) -> i32;\n    fn http_get(url_ptr: *const u8, url_len: usize) -> i32;\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["See ",(0,r.jsx)(n.a,{href:"../wasm/",children:"WASM mims"})," for more information (detailed API reference coming soon)."]}),"\n",(0,r.jsx)(n.h2,{id:"networking-constraints",children:"Networking Constraints"}),"\n",(0,r.jsx)(n.h3,{id:"no-direct-socket-access",children:"No Direct Socket Access"}),"\n",(0,r.jsx)(n.p,{children:"mims cannot create raw sockets or listen on ports:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// \u274c Not available\nconst net = require('net');\nconst server = net.createServer();\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Alternative:"})," Use ",(0,r.jsx)(n.code,{children:"context.http"})," for outbound HTTP requests. Inbound requests are handled by the runtime."]}),"\n",(0,r.jsx)(n.h3,{id:"httphttps-for-external-requests",children:"HTTP/HTTPS for External Requests"}),"\n",(0,r.jsx)(n.p,{children:"Outbound requests support both HTTP and HTTPS:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"context.http.request({\n  url: 'https://api.example.com/data',\n  success: (result) => {\n    response.end(result.data);\n  },\n  error: (err) => {\n    response.statusCode = 500;\n    response.end(err.message);\n  }\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"no-streaming-current-limitation",children:"No Streaming (Current Limitation)"}),"\n",(0,r.jsx)(n.p,{children:"WebSockets, Server-Sent Events (SSE), and chunked transfer encoding are not currently supported:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// \u274c Not supported\nconst ws = new WebSocket('ws://example.com');\n\n// \u274c Not supported\nresponse.setHeader('Transfer-Encoding', 'chunked');\n"})}),"\n",(0,r.jsx)(n.admonition,{title:"Future Support",type:"info",children:(0,r.jsx)(n.p,{children:"Streaming support (WebSockets, SSE) is planned for future releases."})}),"\n",(0,r.jsx)(n.h2,{id:"storage-constraints",children:"Storage Constraints"}),"\n",(0,r.jsx)(n.h3,{id:"key-value-store-only",children:"Key-Value Store Only"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"context.storage"})," is a key-value store with tag support, not a relational database:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// \u2705 Simple key-value operations (synchronous)\ncontext.storage.setItem('user:123', JSON.stringify({ name: 'Alice' }));\nvar user = JSON.parse(context.storage.getItem('user:123'));\n\n// \u2705 Tagged storage for collections\ncontext.storage.setItemWithTag('user:123', JSON.stringify(user), 'users');\n\n// \u2705 Paginated queries with filters\ncontext.storage.getJsonItemsPaginated(0, 10, callback, {\n  tag: 'users',\n  filters: [{ jsonPath: '$.age', comparisonOperator: '>', value: '18' }]\n});\n\n// \u274c SQL queries not available\ncontext.storage.query('SELECT * FROM users WHERE age > 18'); // Not available\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Alternative:"})," For complex relational queries, use an external database via ",(0,r.jsx)(n.code,{children:"context.http"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"cross-platform-considerations",children:"Cross-Platform Considerations"}),"\n",(0,r.jsx)(n.h3,{id:"platform-specific-paths",children:"Platform-Specific Paths"}),"\n",(0,r.jsx)(n.p,{children:"File paths and conventions differ across platforms:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// \u274c Hardcoded paths won't work cross-platform\nvar configPath = '/Users/alice/config.json'; // macOS only\n\n// \u2705 Use context.storage for portable persistence\ncontext.storage.setItem('config', JSON.stringify(configData));\n"})}),"\n",(0,r.jsx)(n.h3,{id:"mobile-platform-differences",children:"Mobile Platform Differences"}),"\n",(0,r.jsx)(n.p,{children:"On iOS and Android, mimOE runs embedded within an application:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Integrated within your app (not standalone)"}),"\n",(0,r.jsx)(n.li,{children:"Background execution follows OS guidelines"}),"\n",(0,r.jsx)(n.li,{children:"App sandbox restrictions apply"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"workarounds-and-best-practices",children:"Workarounds and Best Practices"}),"\n",(0,r.jsx)(n.h3,{id:"use-polyfills",children:"Use Polyfills"}),"\n",(0,r.jsx)(n.p,{children:"For missing features, use polyfills via Webpack:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'// webpack.config.js\nmodule.exports = {\n  resolve: {\n    fallback: {\n      "promise": require.resolve("promise-polyfill"),\n      "buffer": require.resolve("buffer/")\n    }\n  }\n};\n'})}),"\n",(0,r.jsx)(n.h3,{id:"optimize-for-stateless",children:"Optimize for Stateless"}),"\n",(0,r.jsx)(n.p,{children:"Design mims for stateless execution:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"context.storage"})," for any data that must persist"]}),"\n",(0,r.jsx)(n.li,{children:"Keep request handlers pure functions when possible"}),"\n",(0,r.jsx)(n.li,{children:"Cache expensive computations in storage"}),"\n",(0,r.jsx)(n.li,{children:"Validate all inputs (don't assume previous state)"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"use-transactions-for-consistency",children:"Use Transactions for Consistency"}),"\n",(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.code,{children:"lockExecute"})," for atomic operations:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// \u274c Not atomic - could be inconsistent if interrupted\ncontext.storage.setItem('balance:alice', String(aliceBalance - amount));\ncontext.storage.setItem('balance:bob', String(bobBalance + amount));\n\n// \u2705 Atomic - all operations execute together\ncontext.storage.lockExecute(function() {\n  context.storage.setItem('balance:alice', String(aliceBalance - amount));\n  context.storage.setItem('balance:bob', String(bobBalance + amount));\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"constraint-summary-table",children:"Constraint Summary Table"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Constraint"}),(0,r.jsx)(n.th,{children:"Impact"}),(0,r.jsx)(n.th,{children:"Workaround"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Not Node.js"}),(0,r.jsxs)(n.td,{children:["No ",(0,r.jsx)(n.code,{children:"fs"}),", ",(0,r.jsx)(n.code,{children:"net"}),", ",(0,r.jsx)(n.code,{children:"path"}),", etc."]}),(0,r.jsxs)(n.td,{children:["Use ",(0,r.jsx)(n.code,{children:"context.*"})," APIs"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ES5 runtime"}),(0,r.jsx)(n.td,{children:"No modern JS natively"}),(0,r.jsx)(n.td,{children:"Use Webpack + Babel"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Stateless"}),(0,r.jsx)(n.td,{children:"No persistent variables"}),(0,r.jsx)(n.td,{children:"context.storage"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"No WASI"}),(0,r.jsx)(n.td,{children:"Limited WASM stdlib"}),(0,r.jsx)(n.td,{children:"Custom imports"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"No WebSockets"}),(0,r.jsx)(n.td,{children:"No real-time push"}),(0,r.jsx)(n.td,{children:"Polling or external service"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"KV storage only"}),(0,r.jsx)(n.td,{children:"No complex queries"}),(0,r.jsx)(n.td,{children:"External database via HTTP"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsx)(n.p,{children:"Now that you understand the constraints:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"../javascript/",children:"JavaScript Development"})}),": Build with JavaScript (ES5)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"../javascript/es5-guide",children:"ES5 Patterns Guide"})}),": ES5 patterns and techniques"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"../wasm/",children:"WASM Development"})}),": Build with WebAssembly"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"../getting-started/",children:"Getting Started"})}),": Set up your environment"]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{title:"Embrace the Constraints",type:"tip",children:(0,r.jsx)(n.p,{children:"These constraints enable mimOE's portability, security, and efficiency. Design with them in mind rather than fighting against them."})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453(e,n,t){t.d(n,{R:()=>a,x:()=>o});var s=t(6540);const r={},i=s.createContext(r);function a(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);